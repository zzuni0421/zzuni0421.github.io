<body>
  <h1>ì•ˆë…•í•˜ì„¸ìš”! ì—¬ê¸°ëŠ” zzuni.kro.kr ì…ë‹ˆë‹¤ ğŸ¥³</h1>
  <p>ì²˜ìŒ ë§Œë“  ì›¹í˜ì´ì§€ì˜ˆìš”. ë°˜ê°€ì›Œìš”!</p>

  <h2>ë°©ëª…ë¡ âœï¸</h2>
  <form id="postForm">
    <input type="text" name="name" placeholder="ì´ë¦„" required><br><br>
    <textarea name="message" placeholder="ë©”ì‹œì§€" required></textarea><br><br>
    <button type="submit">ì €ì¥í•˜ê¸°</button>
  </form>
<h2>ğŸ“œ ì‘ì„±ëœ ê¸€</h2>
<div id="postList">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>

  <script>
    <script>
  // í¼ ì „ì†¡ (ì´ë¯¸ ìˆë˜ ì½”ë“œ)
  document.getElementById('postForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const formData = new FormData(this);

    fetch('https://script.google.com/macros/s/AKfycbwueMDSXnzjlKjEQhb3u758EyE1f-pSsmPYd6yUaoN0Q5UV7EeZRnoL-XSjJpZXUxsA4g/exec', {
      method: 'POST',
      body: formData
    })
    .then(response => response.text())
    .then(data => {
      alert('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
      document.getElementById('postForm').reset();
      loadPosts();  // ì €ì¥ í›„ ìƒˆë¡œê³ ì¹¨
    })
    .catch(error => {
      alert('ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      console.error('Error!', error.message);
    });
  });

  // ì‘ì„±ëœ ê¸€ ë¶ˆëŸ¬ì˜¤ê¸°
  function loadPosts() {
    fetch('https://script.google.com/macros/s/AKfycbwueMDSXnzjlKjEQhb3u758EyE1f-pSsmPYd6yUaoN0Q5UV7EeZRnoL-XSjJpZXUxsA4g/exec')
      .then(response => response.json())
      .then(data => {
        const postList = document.getElementById('postList');
        postList.innerHTML = ''; // ê¸°ì¡´ ë‚´ìš© ì§€ìš°ê¸°

        data.reverse().forEach(row => {
          const name = row.name || 'ìµëª…';
          const message = row.message || '';
          const item = document.createElement('div');
          item.innerHTML = `<p><strong>${name}</strong>: ${message}</p><hr>`;
          postList.appendChild(item);
        });
      })
      .catch(error => {
        document.getElementById('postList').innerText = 'ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
        console.error('Error!', error.message);
      });
  }

  // í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸€ ë¶ˆëŸ¬ì˜¤ê¸°
  window.onload = loadPosts;
</script>

    document.getElementById('postForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = new FormData(this);

      fetch('https://script.google.com/macros/s/AKfycbwueMDSXnzjlKjEQhb3u758EyE1f-pSsmPYd6yUaoN0Q5UV7EeZRnoL-XSjJpZXUxsA4g/exec', {
        method: 'POST',
        body: formData
      })
      .then(response => response.text())
      .then(data => {
        alert('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
        document.getElementById('postForm').reset();
      })
      .catch(error => {
        alert('ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
        console.error('Error!', error.message);
      });
    });
  </script>
</body>
